<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Planner List</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  min-height:100vh;
  background:
    linear-gradient(rgba(0,0,0,.6), rgba(0,0,0,.6)),
    url("plannerlist.jpg") no-repeat center/cover;
  font-family:Segoe UI,sans-serif;
  color:#fff;
}

/* HEADER */
.header{
  text-align:center;
  padding:22px;
  font-size:24px;
  font-weight:600;
}

/* LIST CONTAINER */
.list{
  max-width:900px;
  margin:0 auto;
  padding:0 16px 40px;
}

/* LONG TILE */
.card{
  background:rgba(255,255,255,.14);
  backdrop-filter:blur(12px);
  border-radius:16px;
  padding:16px 18px;
  margin-bottom:16px;
  box-shadow:0 8px 30px rgba(0,0,0,.5);
}

/* DATE */
.card .date{
  font-size:14px;
  color:#ffeb3b;
  margin-bottom:6px;
}

/* PLACE */
.card .place{
  font-size:16px;
  font-weight:600;
  margin-bottom:6px;
}

/* CONTENT */
.card .content{
  font-size:15px;
  opacity:.95;
  line-height:1.5;
}

/* BACK BUTTON */
.back{
  position:fixed;
  top:18px;
  left:18px;
  cursor:pointer;
  font-weight:bold;
  color:#ffeb3b;
}
</style>
</head>

<body>

<div class="back" onclick="history.back()">‚Üê Back</div>
<div class="header">Planner List</div>
<div class="list" id="list">Loading...</div>

<script>
const API_URL = "https://script.google.com/macros/s/AKfycbzOLVmw7KAZ4TJWow4BV4JfZnXqp8aBI83N4c55Wca2rkGRj25y29xklPRb-a-iMYQL/exec";

/* FETCH SCHEDULE LIST */
fetch(API_URL,{
  method:"POST",
  headers:{ "Content-Type":"text/plain" },
  body:JSON.stringify({ action:"getScheduleList" })
})
.then(r=>r.json())
.then(d=>{
  const box = document.getElementById("list");
  box.innerHTML = "";

  if(!d.success || d.schedules.length === 0){
    box.innerHTML = "<p>No schedules found</p>";
    return;
  }

  d.schedules.forEach(s=>{
    const div = document.createElement("div");
    div.className = "card";
    div.innerHTML = `
      <div class="date">üìÖ ${s.date}</div>
      <div class="place">üìç ${s.place}</div>
      <div class="content">${s.content}</div>
    `;
    box.appendChild(div);
  });
});
</script>

</body>
</html>